// elements
const result=document.querySelector('.result'),calculateBtn=document.querySelector('.calcBtn'),form=document.querySelector('.calculator');// numbers
let totalTax=0,nettAnnualSalary=0,nettMonthlySalary=0,grossAnnualSalary=0;const tier3Start=521304,tier2Start=48913,tier1=.08,tier2=.41,tier3=.55;function calculateTax(a){a.preventDefault(),grossAnnualSalary=document.querySelector('[name=salaryYearly]').value,0<=grossAnnualSalary-tier3Start&&(totalTax+=(grossAnnualSalary-tier3Start)*tier3+472391*tier2+tier2Start*tier1,calculateNettSalary()),grossAnnualSalary>tier2Start&&grossAnnualSalary<tier3Start&&(totalTax+=(grossAnnualSalary-tier2Start)*tier2+tier2Start*tier1,calculateNettSalary()),grossAnnualSalary<tier2Start&&(totalTax+=grossAnnualSalary*tier1,calculateNettSalary())}function calculateNettSalary(){form.reset();let a=grossAnnualSalary-totalTax;nettAnnualSalary=a.toFixed(0),nettMonthlySalary=(a/12).toFixed(0),displayResult()}function displayResult(){totalTax=0,result.innerHTML=`
  <p>Your annual nett salary is going to be around <span>${formatMoney(nettAnnualSalary)}</span> kr.</p>
  <p>That's <span>${formatMoney(nettMonthlySalary)}</span> kr. per month.</p>
  `,result.classList.add('display')}function formatMoney(a){return Intl.NumberFormat().format(a)}calculateBtn.addEventListener('click',calculateTax);